source ./design.config
source ./modelsim/env.config

# Load regression list
if [file exists $TEST_LIST] {
   set fp [open $TEST_LIST r]
   set test_list [read $fp]
} else {
   puts "NOTE: regression file list does not exist!"
}

# ucdb files
set ucdb_filelist ""
foreach _test $test_list {
   lappend ucdb_filelist $coverage/$_test.ucdb 
}

eval vcover merge -log ${log_directory}/cover.log  $coverage/regression_coverage.ucdb $ucdb_filelist
eval vcover report $coverage/regression_coverage.ucdb -details -html -htmldir $cov_report -testhitdata -verbose -source


quit
